(this["webpackJsonpmonitor-demo"]=this["webpackJsonpmonitor-demo"]||[]).push([[4],{311:function(e,t,n){"use strict";var r=n(319),c=n(11);t.a=function(e){var t=e.title;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"text-3xl font-semibold",children:t}),Object(c.jsx)(r.a,{type:"horizontal"})]})}},312:function(e,t,n){"use strict";var r=n(30),c=n(11);t.a=function(e){return function(t){return Object(c.jsx)("div",{className:"flex-1 p-5 overflow-auto",children:Object(c.jsx)(e,Object(r.a)({},t))})}}},355:function(e,t,n){"use strict";n.r(t);var r=n(30),c=n(305),a=n(350),s=n(311),o=n(312),i=n(11),l=c.a.Content;function m(e){var t=e.code;return Object(i.jsx)(a.a,Object(r.a)(Object(r.a)({},a.b),{},{code:t,language:"jsx",children:function(e){var t=e.className,n=e.style,c=e.tokens,a=e.getLineProps,s=e.getTokenProps;return Object(i.jsx)("pre",{className:t,style:Object(r.a)(Object(r.a)({},n),{},{padding:10}),children:c.map((function(e,t){return Object(i.jsxs)("div",Object(r.a)(Object(r.a)({className:"table-row"},a({line:e,key:t})),{},{children:[Object(i.jsx)("div",{className:"table-cell text-right pr-3 select-none opacity-50",children:t+1}),Object(i.jsx)("div",{className:"table-cell",children:e.map((function(e,t){return Object(i.jsx)("span",Object(r.a)({},s({token:e,key:t})))}))})]}),t)}))})}}))}t.default=Object(o.a)((function(){return Object(i.jsxs)(l,{className:"overflow-auto",children:[Object(i.jsx)(s.a,{title:"Example"}),Object(i.jsxs)(l,{children:[Object(i.jsxs)("section",{className:"flex flex-col mb-5",children:[Object(i.jsx)("h1",{className:"mb-4 text-2xl text-gray-700",children:" Performance "}),Object(i.jsx)("div",{className:"block mb-5",children:Object(i.jsx)("a",{className:"underline",href:"https://github.com/clouDr-f2e/monitor-demo/blob/main/src/utils/reportPerf.js",target:"_blank",children:"source code"})}),Object(i.jsx)(m,{code:"import { WebVitals } from '@zyf2e/monitor-web-performance'\nimport { app } from 'src/App'\n\nconst wv = new WebVitals({\n    appId: 'monitor-demo',\n    version: '1.0.0',\n    immediately: true,\n    reportCallback: (metrics) => {\n        const store = app._store\n\n        const {\n            data: { name, value },\n        } = metrics\n\n        if (name === 'first-contentful-paint' || name === 'api-complete-time' || name === 'custom-contentful-paint') {\n            store.dispatch({\n                type: 'performance/calcScore',\n                payload: {\n                    name,\n                    value,\n                },\n            })\n        }\n\n        store.dispatch({\n            type: 'performance/addMetrics',\n            payload: metrics,\n        })\n    },\n    needCCP: true,\n    logFpsCount: 20,\n    hashHistory: true,\n})\n\nexport default wv\n"})]}),Object(i.jsxs)("section",{className:"flex flex-col mb-5",children:[Object(i.jsx)("h1",{className:"mb-4 text-2xl text-gray-700",children:" Error "}),Object(i.jsx)("div",{className:"block mb-5",children:Object(i.jsx)("a",{className:"underline",href:"https://github.com/clouDr-f2e/monitor-demo/blob/main/src/utils/reportError.js",target:"_blank",children:"source code"})}),Object(i.jsx)(m,{code:"import { message } from 'antd'\nimport { init } from '@zyf2e/monitor-web'\nimport { app } from 'src/App'\n\ninit({\n    dsn: 'https://chryseis.cn/api',\n    maxBreadcrumbs: 100,\n    beforeAppAjaxSend({ method, url }) {\n        if (/(http(?:s|):).*/.test(url)) {\n            const protocol = url.replace(/(http(?:s|):).*/, '$1')\n            if (window.location.protocol !== protocol) {\n                message.error({ content: '\u8d44\u6e90\u4e0e\u7ad9\u70b9\u534f\u8bae\u4e0d\u4e00\u81f4', className: 'monitor-message' })\n            }\n        }\n    },\n    beforePushBreadcrumb(breadcrumb, data) {\n        app._store.dispatch({\n            type: 'error/addItem',\n            payload: { ...data, time: +new Date() },\n        })\n    },\n})\n"})]})]})]})}))}}]);
//# sourceMappingURL=p_example.841aed75.chunk.js.map
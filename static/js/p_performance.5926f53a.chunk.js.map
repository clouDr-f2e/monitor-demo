{"version":3,"sources":["components/PageHeader/index.js","hoc/baseContent.js","utils/request.js","assets/images/img.png","pages/performance/index.js"],"names":["PageHeader","title","className","type","withBaseContent","Component","props","service","axios","create","request","get","url","config","post","data","Content","Layout","columns","dataIndex","connect","scores","performance","useState","placeholderImg","setData","Form","useForm","form","remoteSource","useCallback","getFieldValue","then","onValuesChange","changedValues","allValues","useEffect","layout","Item","label","name","valuePropName","initialValue","checkedChildren","unCheckedChildren","pagination","dataSource","bordered","summary","pageData","total","reduce","sum","score","weight","Summary","Row","Cell","colSpan","toFixed","preview","src","alt"],"mappings":"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","file":"static/js/p_performance.5926f53a.chunk.js","sourcesContent":["import { Divider } from 'antd'\n\nfunction PageHeader({ title }) {\n    return (\n        <>\n            <div className='text-3xl font-semibold'>{title}</div>\n            <Divider type='horizontal' />\n        </>\n    )\n}\n\nexport default PageHeader\n","const withBaseContent = (Component) => {\n    return (props) => (\n        <div className='flex-1 p-5 overflow-auto'>\n            <Component {...props} />\n        </div>\n    )\n}\n\nexport default withBaseContent\n","import axios from 'axios'\n\nconst service = axios.create()\n\nconst request = {\n    get(url, config) {\n        return service.get(url, config)\n    },\n    post(url, data, config) {\n        return service.post(url, data, config)\n    },\n}\n\nexport default request\n","export default __webpack_public_path__ + \"static/media/img.687dca16.png\";","import { useCallback, useEffect, useState } from 'react'\nimport { connect } from 'dva'\nimport { Layout, Image, Table, Form, Switch } from 'antd'\nimport PageHeader from 'src/components/PageHeader'\nimport withBaseContent from 'src/hoc/baseContent'\nimport request from 'src/utils/request'\nimport placeholderImg from 'src/assets/images/img.png'\n\nconst { Content } = Layout\n\nconst columns = [\n    {\n        title: 'Title',\n        dataIndex: 'title',\n    },\n    {\n        title: 'Score',\n        dataIndex: 'score',\n    },\n    {\n        title: 'Value',\n        dataIndex: 'value',\n    },\n    {\n        title: 'Weight',\n        dataIndex: 'weight',\n    },\n]\n\nfunction Performance({ scores }) {\n    const [data, setData] = useState({\n        'img-example': placeholderImg,\n        'img-navigation': placeholderImg,\n        'img-fcp': placeholderImg,\n        'img-lcp': placeholderImg,\n    })\n\n    const [form] = Form.useForm()\n\n    const remoteSource = useCallback(() => {\n        const imageProtocol = form.getFieldValue('imageProtocol')\n        const url = imageProtocol ? './data/performance.json' : './data/performance-http.json'\n        request.get(url).then(({ data }) => {\n            setData(data)\n        })\n    }, [form])\n\n    const onValuesChange = useCallback(\n        (changedValues, allValues) => {\n            remoteSource()\n        },\n        [remoteSource]\n    )\n\n    useEffect(() => {\n        remoteSource()\n    }, [remoteSource])\n\n    return (\n        <Content className='overflow-auto'>\n            <PageHeader title='Performance' />\n            <Content>\n                <section className='flex flex-col mb-5'>\n                    <h1 className='mb-4 text-2xl text-gray-700'>Operation</h1>\n                    <Form form={form} layout='inline' onValuesChange={onValuesChange}>\n                        <Form.Item label='图片协议' name='imageProtocol' valuePropName='checked' initialValue={true}>\n                            <Switch checkedChildren='https' unCheckedChildren='http' />\n                        </Form.Item>\n                        <Form.Item label='图片格式' name='imageExt' valuePropName='checked' initialValue={true}>\n                            <Switch checkedChildren='png' unCheckedChildren='webp' />\n                        </Form.Item>\n                    </Form>\n                </section>\n                <section className='flex flex-col mb-5'>\n                    <h1 className='mb-4 text-2xl text-gray-700'> Performance Score</h1>\n                    <Table\n                        pagination={false}\n                        columns={columns}\n                        dataSource={scores}\n                        bordered\n                        summary={(pageData) => {\n                            const total = pageData.reduce((sum, { score, weight }) => {\n                                return sum + score * weight\n                            }, 0)\n                            return (\n                                <>\n                                    <Table.Summary.Row>\n                                        <Table.Summary.Cell>Total</Table.Summary.Cell>\n                                        <Table.Summary.Cell colSpan={3}>{total.toFixed(3)}</Table.Summary.Cell>\n                                    </Table.Summary.Row>\n                                </>\n                            )\n                        }}\n                    />\n                </section>\n                <section className='flex flex-col mb-5'>\n                    <h1 className='mb-4 text-2xl text-gray-700'>Meaning of Performance </h1>\n                    <Image className='mb-2 w-full' preview={false} src={data['img-example']} alt='' />\n                </section>\n                <section className='flex flex-col mb-5'>\n                    <h1 className='mb-4 text-2xl text-gray-700'>Navigation</h1>\n                    <Image className='w-full' preview={false} src={data['img-navigation']} alt='' />\n                </section>\n                <section className='flex flex-col mb-5'>\n                    <h1 className='mb-4 text-2xl text-gray-700'>First Contentful Paint</h1>\n                    <Image className='w-full' preview={false} src={data['img-fcp']} alt='' />\n                </section>\n                <section className='flex flex-col'>\n                    <h1 className='mb-4 text-2xl text-gray-700'>Largest Contentful Paint</h1>\n                    <Image className='w-full' preview={false} src={data['img-lcp']} alt='' />\n                </section>\n            </Content>\n        </Content>\n    )\n}\n\nexport default connect(({ performance }) => {\n    const { scores } = performance\n    return {\n        scores,\n    }\n})(withBaseContent(Performance))\n"],"sourceRoot":""}